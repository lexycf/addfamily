var func={node:{conContent:'[node-type="con-content"]',name:"#name",age:"#age",phone:"#phone",ageList:".ageList",ageData:ageData,j_ageBox:"#j_ageBox",userAgeParam:"",equitiesList:".equitiesList",nameStatus:!1,ageStatus:!1,phoneStatus:!1,subBtn:"#subBtn"},bindEvent:function(){$(func.node.conContent).delegate(func.node.name,"focus",function(){$(this).parent().siblings(".errBox").html("")}).delegate(func.node.name,"blur",function(){var e=$(this).val();""==e?($(this).parent().siblings(".errBox").html("姓名不能为空"),func.node.nameStatus=!1):func.node.nameStatus=!0}).delegate(func.node.phone,"focus",function(){$(this).parent().siblings(".errBox").html("")}).delegate(func.node.age,"focus",function(){func.triggerage($(this),$(func.node.j_ageBox))}).delegate(func.node.subBtn,"click",function(){var e=($(func.node.age).val(),$(func.node.phone).val());if(!func.node.nameStatus)return $(func.node.name).parent().siblings(".errBox").html("请输入姓名"),!1;if(""!=e){var n=/^1[3-9][0-9]\d{8}$/;if(!n.test(e))return $(func.node.phone).parent().siblings(".errBox").html("请输入正确的手机号码"),!1}})},getAgeList:function(){for(var e=func.node.ageData,n="",t="",a=0;a<e.length;a++)t=e[a],n+='<li class="j_ageli" data-showTxt="'+t.showTxt+'" data-birthYear="'+t.birthYear+'">'+t.val+"</li>";$(func.node.ageList).html(n)},triggerage:function(e,n){var t=n.html(),a=new layer({content:t,readyCallback:function(n){n.find(".j_ageli").click(function(){var n=$(this).attr("data-showTxt"),t=$(this).attr("data-birthYear");e.val(n),func.node.userAgeParam=t,func.equitiescheck(),a.close()})}})},equitiescheck:function(){var e=new Date,n=e.getFullYear(),t=n-parseInt(func.node.userAgeParam),a=$(func.node.equitiesList),i="",s="",o=a.find("li");a.find(".fangai").hide().siblings().show(),a.find("li").removeClass("greyTxt");for(var r=0;r<o.length;r++)i=parseInt(o.eq(r).data("minage")),s=parseInt(o.eq(r).data("maxage")),sicktype=o.eq(r).data("sicktype"),t>=i&&t<=s?o.eq(r).removeClass("greyTxt"):o.eq(r).addClass("greyTxt");t<=60?($(".fangai").hide().siblings(".dabing").show(),a.find('li[data-sicktype="yiwai"]').hasClass("greyTxt")):a.find(".fangai").show().removeClass("greyTxt").siblings(".dabing").hide()},init:function(){func.bindEvent(),func.paramList=[],func.getAgeList()}};func.init();